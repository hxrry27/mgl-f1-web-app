name: Deploy Production
on:
  push:
    branches: [ main ]
  workflow_dispatch:
jobs:
  deploy:
    runs-on: self-hosted
    steps:
      - name: Deploy to production
        run: |
          echo "ðŸŽ¯ Deploying to mglf1.co.uk"
          /home/hxrry27/docker/scripts/deploy-prod.sh
      - name: Health check
        run: |
          sleep 10
          curl -f http://localhost:3100 || exit 1
          echo "âœ… Production site is responding"
